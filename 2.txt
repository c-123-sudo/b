#include <stdio.h> 
int main() { 
    int d[7], r[7], c, c1, c2, c3, i; 
    printf("Enter 4 bits: "); 
    scanf("%d%d%d%d", &d[0], &d[1], &d[2], &d[4]); 
    d[6] = d[0] ^ d[2] ^ d[4]; 
    d[5] = d[0] ^ d[1] ^ d[4]; 
    d[3] = d[0] ^ d[1] ^ d[2]; 
    printf("Encoded: "); 
    for (i = 0; i < 7; i++) printf("%d", d[i]); 
    printf("\nReceived 7 bits: "); 
    for (i = 0; i < 7; i++) scanf("%d", &r[i]); 
    c1 = r[6] ^ r[4] ^ r[2] ^ r[0]; 
    c2 = r[5] ^ r[4] ^ r[1] ^ r[0]; 
    c3 = r[3] ^ r[2] ^ r[1] ^ r[0]; 
    c = c3*4 + c2*2 + c1; 
    if (c == 0) printf("No error\n"); 
    else { 
        printf("Error at %d\n", c); 
        r[7-c] ^= 1; 
        printf("Corrected: "); 
        for (i = 0; i < 7; i++) printf("%d", r[i]); 
    } 
    return 0; 
} 
