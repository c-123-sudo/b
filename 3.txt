#include <stdio.h> 
int main() { 
    int in, out, cap, n, buf = 0; 
    printf("Enter bucket capacity, outgoing rate, no of inputs: "); 
    scanf("%d%d%d", &cap, &out, &n); 
    while (n--) { 
        printf("Enter incoming packets: "); 
        scanf("%d", &in); 
        int sent = in < out ? in : out; 
        if (in - out <= cap - buf) { 
            if (sent < out && buf) 
                sent += buf < out - sent ? buf : out - sent, buf -= sent - in; 
            printf("%d packets sent\n", sent); 
            buf += in > out ? in - out : 0; 
        } else { 
            printf("%d packets dropped\n", in - out - (cap - buf)); 
            buf = cap; 
        } 
        printf("Buffer: %d/%d\n", buf, cap); 
    } 
    return 0; 
} 
